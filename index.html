<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google OAuth Login</title>
</head>
<body>
    <h1>Google OAuth 授權登入</h1>
    <p id="email-display">讀取中...</p>
    <button id="login-btn">使用 Google 登入</button>

    <script>
        // 讀取 URL 中的 email 參數
        const urlParams = new URLSearchParams(window.location.search);
        const email = urlParams.get('email');
        
        // 顯示帳號
        if (email) {
            document.getElementById('email-display').textContent = '帳號: ' + email;
        } else {
            document.getElementById('email-display').textContent = '沒有收到帳號參數';
        }

        // Google OAuth 授權流程
        document.getElementById('login-btn').addEventListener('click', function() {
            const clientId = '440644130058-r2ir84nr246472g3i27l142lsclolvfs.apps.googleusercontent.com'; // 你在Google API 控制台註冊的Client ID
            const redirectUri = 'https://scott610718.github.io/LoginGoogle/callback.html'; // GitHub Pages 上的回調頁面
            const scope = 'https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email';
            const responseType = 'token'; // 我們使用 implicit flow 來處理

            // 建立 Google OAuth 授權 URL
            const authUrl = `https://accounts.google.com/o/oauth2/v2/auth?response_type=${responseType}&client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scope}&include_granted_scopes=true&state=${email}`;

            // 重定向到 Google OAuth 認證頁面
            window.location.href = authUrl;
        });
    </script>
</body>
</html>
